<?php

declare(strict_types=1);

namespace Webkul\IcecatConnectorBundle\Installer;

use Doctrine\DBAL\Driver\Connection;
use Symfony\Component\EventDispatcher\EventSubscriberInterface;
use Webkul\IcecatConnectorBundle\Event\InstallerEvents;

class MeasurementInstaller implements EventSubscriberInterface
{
    /** @var Connection */
    private $connection;

    public function __construct(Connection $connection)
    {
        $this->connection = $connection;
    }

    /**
     * {@inheritdoc}
     */
    public static function getSubscribedEvents(): array
    {
        return [
            InstallerEvents::POST_ICECAT_MODULE_INSTALLATION => ['createMeasurementTableAndStandardMeasurementFamilies'],
        ];
    }

    public function createMeasurementTableAndStandardMeasurementFamilies(): void
    {
        $this->loadStandardMeasurementFamilies();
    }

    private function loadStandardMeasurementFamilies(): void
    {
        $sql = <<<SQL
INSERT IGNORE INTO `akeneo_measurement` (`code`, `labels`, `standard_unit`, `units`)
VALUES
    ('Acceleration', '{"ca_ES": "Acceleration","da_DK": "Acceleration","de_DE": "Acceleration","en_GB": "Acceleration","en_NZ": "Acceleration","en_US": "Acceleration","es_ES": "Acceleration","fi_FI": "Acceleration","fr_FR": "Acceleration","it_IT": "Acceleration","ja_JP": "Acceleration","pt_BR": "Acceleration","ru_RU": "Acceleration","sv_SE": "Acceleration"}', 'METER_PER_SQUARE_SECOND', '[{"code": "METER_PER_SQUARE_SECOND","labels": {"ca_ES": "Meter per squre second","da_DK": "Meter per squre second","de_DE": "Meter per squre second","en_GB": "Meter per squre second","en_NZ": "Meter per squre second","en_US": "Meter per squre second","es_ES": "Meter per squre second","fi_FI": "Meter per squre second","fr_FR": "Meter per squre second","it_IT": "Meter per squre second","ja_JP": "Meter per squre second","pt_BR": "Meter per squre second","ru_RU": "Meter per squre second","sv_SE": "Meter per squre second"},"convert_from_standard": [{"operator": "mul","value": "1"}],"symbol": "m/s²"},{"code": "G","labels": {"ca_ES": "G-force","da_DK": "G-force","de_DE": "G-force","en_GB": "G-force","en_NZ": "G-force","en_US": "G-force","es_ES": "G-force","fi_FI": "G-force","fr_FR": "G-force","it_IT": "G-force","ja_JP": "G-force","pt_BR": "G-force","ru_RU": "G-force","sv_SE": "G-force"},"convert_from_standard": [{"operator": "mul","value": "9.8"}],"symbol": "g"}]'),
    ('AirPower', '{"ca_ES":"Air power","da_DK":"Air power","de_DE":"Air power","en_GB":"Air power","en_NZ":"Air power","en_US":"Air power","es_ES":"Air power","fi_FI":"Air power","fr_FR":"Air power","it_IT":"Air power","ja_JP":"Air power","pt_BR":"Air power","ru_RU":"Air power","sv_SE":"Air power"}', 'AIRWATT', '[{"code":"AIRWATT","labels":{"ca_ES":"Air Watt","da_DK":"Air Watt","de_DE":"Air Watt","en_GB":"Air Watt","en_NZ":"Air Watt","en_US":"Air Watt","es_ES":"Air Watt","fi_FI":"Air Watt","fr_FR":"Air Watt","it_IT":"Air Watt","ja_JP":"Air Watt","pt_BR":"Air Watt","ru_RU":"Air Watt","sv_SE":"Air Watt"},"convert_from_standard":[{"operator":"mul","value":"1"}],"symbol":"AirWatt"}]'),
    ('AngularAcceleration', '{"ca_ES":"Angular acceleration","da_DK":"Angular acceleration","de_DE":"Angular acceleration","en_GB":"BinAngular accelerationary","en_NZ":"Angular acceleration","en_US":"Angular acceleration","es_ES":"Angular acceleration","fi_FI":"Angular acceleration","fr_FR":"Angular acceleration","it_IT":"Angular acceleration","ja_JP":"Angular acceleration","pt_BR":"Angular acceleration","ru_RU":"Angular acceleration","sv_SE":"Angular acceleration"}', 'RADIAN_PER_SECOND_SQUARED', '[{"code":"RADIAN_PER_SECOND_SQUARED","labels":{"ca_ES":"Radian per second squared","da_DK":"Radian per second squared","de_DE":"Radian per second squared","en_GB":"Radian per second squared","en_NZ":"Radian per second squared","en_US":"Radian per second squared","es_ES":"Radian per second squared","fi_FI":"Radian per second squared","fr_FR":"Radian per second squared","it_IT":"Radian per second squared","ja_JP":"Radian per second squared","pt_BR":"Radian per second squared","ru_RU":"Radian per second squared","sv_SE":"Radian per second squared"},"convert_from_standard":[{"operator":"mul","value":"1"}],"symbol":"rad/s²"},{"code":"DEGREE_PER_SECOND_SQUARED","labels":{"ca_ES":"Degree per second squared","da_DK":"Degree per second squared","de_DE":"Degree per second squared","en_GB":"Degree per second squared","en_NZ":"Degree per second squared","en_US":"Degree per second squared","es_ES":"Degree per second squared","fi_FI":"Degree per second squared","fr_FR":"Degree per second squared","it_IT":"Degree per second squared","ja_JP":"Degree per second squared","pt_BR":"Degree per second squared","ru_RU":"Degree per second squared","sv_SE":"Degree per second squared"},"convert_from_standard":[{"operator":"mul","value":"0.01745329"}],"symbol":"°/s²"}]'),
    ('ThermalConductivity', '{"ca_ES": "Thermal conductivity","da_DK": "Thermal conductivity","de_DE": "Thermal conductivity","en_GB": "Thermal conductivity","en_NZ": "Thermal conductivity","en_US": "Thermal conductivity","es_ES": "Thermal conductivity","fi_FI": "Thermal conductivity","fr_FR": "Thermal conductivity","it_IT": "Thermal conductivity","ja_JP": "Thermal conductivity","pt_BR": "Thermal conductivity","ru_RU": "Thermal conductivity","sv_SE": "Thermal conductivity"}', 'WATT_PER_METER_KELVIN', '[{"code": "WATT_PER_METER_KELVIN","labels": {"ca_ES": "Watt per meter kelvin","da_DK": "Watt per meter kelvin","de_DE": "Watt per meter kelvin","en_GB": "Watt per meter kelvin","en_NZ": "Watt per meter kelvin","en_US": "Watt per meter kelvin","es_ES": "Watt per meter kelvin","fi_FI": "Watt per meter kelvin","fr_FR": "Watt per meter kelvin","it_IT": "Watt per meter kelvin","ja_JP": "Watt per meter kelvin","pt_BR": "Watt per meter kelvin","ru_RU": "Watt per meter kelvin","sv_SE": "Watt per meter kelvin"},"convert_from_standard": [{"operator": "mul","value": "1"}],"symbol": "W/(m·K)"}]'),
    ('LinearMass', '{"ca_ES": "Linear mass","da_DK": "Linear mass","de_DE": "Linear mass","en_GB": "Linear mass","en_NZ": "Linear mass","en_US": "Linear mass","es_ES": "Linear mass","fi_FI": "Linear mass","fr_FR": "Linear mass","it_IT": "Linear mass","ja_JP": "Linear mass","pt_BR": "Linear mass","ru_RU": "Linear mass","sv_SE": "Linear mass"}', 'KILOGRAM_PER_METER', '[{"code": "KILOGRAM_PER_METER","labels": {"ca_ES": "Kilogram per meter","da_DK": "Kilogram per meter","de_DE": "Kilogram per meter","en_GB": "Kilogram per meter","en_NZ": "Kilogram per meter","en_US": "Kilogram per meter","es_ES": "Kilogram per meter","fi_FI": "Kilogram per meter","fr_FR": "Kilogram per meter","it_IT": "Kilogram per meter","ja_JP": "Kilogram per meter","pt_BR": "Kilogram per meter","ru_RU": "Kilogram per meter","sv_SE": "Kilogram per meter"},"convert_from_standard": [{"operator": "mul","value": "1"}],"symbol": "kg/m"},{"code": "KILOGRAM_PER_MILLIMETER","labels": {"ca_ES": "Kilogram per millimeter","da_DK": "Kilogram per millimeter","de_DE": "Kilogram per millimeter","en_GB": "Kilogram per millimeter","en_NZ": "Kilogram per millimeter","en_US": "Kilogram per millimeter","es_ES": "Kilogram per millimeter","fi_FI": "Kilogram per millimeter","fr_FR": "Kilogram per millimeter","it_IT": "Kilogram per millimeter","ja_JP": "Kilogram per millimeter","pt_BR": "Kilogram per millimeter","ru_RU": "Kilogram per millimeter","sv_SE": "Kilogram per millimeter"},"convert_from_standard": [{"operator": "mul","value": "1000"}],"symbol": "kg/mm"},{"code": "KILOGRAM_PER_CENTIMETER","labels": {"ca_ES": "Kilogram per centimeter","da_DK": "Kilogram per centimeter","de_DE": "Kilogram per centimeter","en_GB": "Kilogram per centimeter","en_NZ": "Kilogram per centimeter","en_US": "Kilogram per centimeter","es_ES": "Kilogram per centimeter","fi_FI": "Kilogram per centimeter","fr_FR": "Kilogram per centimeter","it_IT": "Kilogram per centimeter","ja_JP": "Kilogram per centimeter","pt_BR": "Kilogram per centimeter","ru_RU": "Kilogram per centimeter","sv_SE": "Kilogram per centimeter"},"convert_from_standard": [{"operator": "mul","value": "100"}],"symbol": "kg/cm"},{"code": "KILOGRAM_PER_KILOMETER","labels": {"ca_ES": "Kilogram per kilometer","da_DK": "Kilogram per kilometer","de_DE": "Kilogram per kilometer","en_GB": "Kilogram per kilometer","en_NZ": "Kilogram per kilometer","en_US": "Kilogram per kilometer","es_ES": "Kilogram per kilometer","fi_FI": "Kilogram per kilometer","fr_FR": "Kilogram per kilometer","it_IT": "Kilogram per kilometer","ja_JP": "Kilogram per kilometer","pt_BR": "Kilogram per kilometer","ru_RU": "Kilogram per kilometer","sv_SE": "Kilogram per kilometer"},"convert_from_standard": [{"operator": "mul","value": "1000"}],"symbol": "kg/km"},{"code": "DENIER","labels": {"ca_ES": "Denier","da_DK": "Denier","de_DE": "Denier","en_GB": "Denier","en_NZ": "Denier","en_US": "Denier","es_ES": "Denier","fi_FI": "Denier","fr_FR": "Denier","it_IT": "Denier","ja_JP": "Denier","pt_BR": "Denier","ru_RU": "Denier","sv_SE": "Denier"},"convert_from_standard": [{"operator": "mul","value": "1.11"},{"operator": "div","value": "10000000"}],"symbol": "D"}]'),
    ('SignalTransmissionSpeed', '{"ca_ES": "Signal transmission speed","da_DK": "Signal transmission speed","de_DE": "Signal transmission speed","en_GB": "Signal transmission speed","en_NZ": "Signal transmission speed","en_US": "Signal transmission speed","es_ES": "Signal transmission speed","fi_FI": "Signal transmission speed","fr_FR": "Signal transmission speed","it_IT": "Signal transmission speed","ja_JP": "Signal transmission speed","pt_BR": "Signal transmission speed","ru_RU": "Signal transmission speed","sv_SE": "Signal transmission speed"}', 'BAUD', '[{"code": "BAUD","labels": {"ca_ES": "Baud","da_DK": "Baud","de_DE": "Baud","en_GB": "Baud","en_NZ": "Baud","en_US": "Baud","es_ES": "Baud","fi_FI": "Baud","fr_FR": "Baud","it_IT": "Baud","ja_JP": "Baud","pt_BR": "Baud","ru_RU": "Baud","sv_SE": "Baud"},"convert_from_standard": [{"operator": "mul","value": "1"}],"symbol": "W/(m·K)"},{"code": "KILOBAUD","labels": {"ca_ES": "Kilobaud","da_DK": "Kilobaud","de_DE": "Kilobaud","en_GB": "Kilobaud","en_NZ": "Kilobaud","en_US": "Kilobaud","es_ES": "Kilobaud","fi_FI": "Kilobaud","fr_FR": "Kilobaud","it_IT": "Kilobaud","ja_JP": "Kilobaud","pt_BR": "Kilobaud","ru_RU": "Kilobaud","sv_SE": "Kilobaud"},"convert_from_standard": [{"operator": "mul","value": "1000"}],"symbol": "W/(m·K)"}]'),
    ('AngularVelocity', '{"ca_ES":"Angular velocity","da_DK":"Angular velocity","de_DE":"Angular velocity","en_GB":"BinAngular velocityary","en_NZ":"Angular velocity","en_US":"Angular velocity","es_ES":"Angular velocity","fi_FI":"Angular velocity","fr_FR":"Angular velocity","it_IT":"Angular velocity","ja_JP":"Angular velocity","pt_BR":"Angular velocity","ru_RU":"Angular velocity","sv_SE":"Angular velocity"}', 'RADIAN_PER_SECOND', '[{"code":"RADIAN_PER_SECOND","labels":{"ca_ES":"Radian per second","da_DK":"Radian per second","de_DE":"Radian per second","en_GB":"Radian per second","en_NZ":"Radian per second","en_US":"Radian per second","es_ES":"Radian per second","fi_FI":"Radian per second","fr_FR":"Radian per second","it_IT":"Radian per second","ja_JP":"Radian per second","pt_BR":"Radian per second","ru_RU":"Radian per second","sv_SE":"Radian per second"},"convert_from_standard":[{"operator":"mul","value":"1"}],"symbol":"rad/s²"},{"code":"REVOLUTION_PER_MINUTE","labels":{"ca_ES":"Revolution per minute","da_DK":"Revolution per minute","de_DE":"Revolution per minute","en_GB":"Revolution per minute","en_NZ":"Revolution per minute","en_US":"Revolution per minute","es_ES":"Revolution per minute","fi_FI":"Revolution per minute","fr_FR":"Revolution per minute","it_IT":"Revolution per minute","ja_JP":"Revolution per minute","pt_BR":"Revolution per minute","ru_RU":"Revolution per minute","sv_SE":"Revolution per minute"},"convert_from_standard":[{"operator":"mul","value":"0.1047198"}],"symbol":"r/min"}]'),
    ('WindSpeed', '{"ca_ES": "Wind speed","da_DK": "Wind speed","de_DE": "Wind speed","en_GB": "Wind speed","en_NZ": "Wind speed","en_US": "Wind speed","es_ES": "Wind speed","fi_FI": "Wind speed","fr_FR": "Wind speed","it_IT": "Wind speed","ja_JP": "Wind speed","pt_BR": "Wind speed","ru_RU": "Wind speed","sv_SE": "Wind speed"}', 'BEAUFORT_SCALE', '[{"code": "BEAUFORT_SCALE","labels": {"ca_ES": "Beaufort scale","da_DK": "Beaufort scale","de_DE": "Beaufort scale","en_GB": "Beaufort scale","en_NZ": "Beaufort scale","en_US": "Beaufort scale","es_ES": "Beaufort scale","fi_FI": "Beaufort scale","fr_FR": "Beaufort scale","it_IT": "Beaufort scale","ja_JP": "Beaufort scale","pt_BR": "Beaufort scale","ru_RU": "Beaufort scale","sv_SE": "Beaufort scale"},"convert_from_standard": [{"operator": "mul","value": "1"}],"symbol": "Bft"}]'),
    ('DataTransferRate', '{"ca_ES":"Data transfer rate","da_DK":"Data transfer rate","de_DE":"Data transfer rate","en_GB":"Data transfer rate","en_NZ":"Data transfer rate","en_US":"Data transfer rate","es_ES":"Data transfer rate","fi_FI":"Data transfer rate","fr_FR":"Data transfer rate","it_IT":"Data transfer rate","ja_JP":"Data transfer rate","pt_BR":"Data transfer rate","ru_RU":"Data transfer rate","sv_SE":"Data transfer rate"}', 'BIT_PER_SECOND', '[{"code":"BIT_PER_SECOND","labels":{"ca_ES":"Bbit per second","da_DK":"Bbit per second","de_DE":"Bbit per second","en_GB":"Bbit per second","en_NZ":"Bbit per second","en_US":"Bbit per second","es_ES":"Bbit per second","fi_FI":"Bbit per second","fr_FR":"Bbit per second","it_IT":"Bbit per second","ja_JP":"Bbit per second","pt_BR":"Bbit per second","ru_RU":"Bbit per second","sv_SE":"Bbit per second"},"convert_from_standard":[{"operator":"mul","value":"1"}],"symbol":"bit/s"},{"code":"KILOBIT_PER_SECOND","labels":{"ca_ES":" Kilobit per second","da_DK":" Kilobit per second","de_DE":" Kilobit per second","en_GB":" Kilobit per second","en_NZ":" Kilobit per second","en_US":" Kilobit per second","es_ES":" Kilobit per second","fi_FI":" Kilobit per second","fr_FR":" Kilobit per second","it_IT":" Kilobit per second","ja_JP":" Kilobit per second","pt_BR":" Kilobit per second","ru_RU":" Kilobit per second","sv_SE":" Kilobit per second"},"convert_from_standard":[{"operator":"mul","value":"1000"}],"symbol":"kbit/s"},{"code":"MEGABIT_PER_SECOND","labels":{"ca_ES":" Megabit per second","da_DK":" Megabit per second","de_DE":" Megabit per second","en_GB":" Megabit per second","en_NZ":" Megabit per second","en_US":" Megabit per second","es_ES":" Megabit per second","fi_FI":" Megabit per second","fr_FR":" Megabit per second","it_IT":" Megabit per second","ja_JP":" Megabit per second","pt_BR":" Megabit per second","ru_RU":" Megabit per second","sv_SE":" Megabit per second"},"convert_from_standard":[{"operator":"mul","value":"1000000"}],"symbol":"Mbit/s"},{"code":"GIGABIT_PER_SECOND","labels":{"ca_ES":" Gigabit per second","da_DK":" Gigabit per second","de_DE":" Gigabit per second","en_GB":" Gigabit per second","en_NZ":" Gigabit per second","en_US":" Gigabit per second","es_ES":" Gigabit per second","fi_FI":" Gigabit per second","fr_FR":" Gigabit per second","it_IT":" Gigabit per second","ja_JP":" Gigabit per second","pt_BR":" Gigabit per second","ru_RU":" Gigabit per second","sv_SE":" Gigabit per second"},"convert_from_standard":[{"operator":"mul","value":"1000000000"}],"symbol":"Gbit/s"}]');
SQL;

        $this->connection->exec($sql);
    }

}
